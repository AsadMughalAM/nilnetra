{{ 'custom-footer.css' | asset_url | stylesheet_tag }}

{%- style -%}
  #shopify-section-{{ section.id }} .custom-footer {
    background-color: {{ section.settings.bg_color | default: '#f6f5f2' }};
    background-image: none !important;
    /* Force override any CSS gradients */
    color: {{ section.settings.text_color | default: '#000000' }};
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
    border-top: 1px solid{{ section.settings.border_color | default: '#e5e5e5' }};
  }

  #shopify-section-{{ section.id }}
  .footer-brand-heading {
    color: {{ section.settings.brand_color | default: section.settings.text_color }};
    font-size: {{ section.settings.brand_size_desktop }}px;
  }

  @media (max-width: 768px) {
    #shopify-section-{{ section.id }} .footer-brand-heading {
      font-size: {{ section.settings.brand_size_mobile }}px;
    }
  }

  #shopify-section-{{ section.id }}
  .custom-footer a {
    color: {{ section.settings.link_color | default: section.settings.text_color }};
    font-size: {{ section.settings.link_size }}px;
    text-transform: {{ section.settings.link_transform }};
  }

  #shopify-section-{{ section.id }}.custom-footer a:hover {
    color: {{ section.settings.link_hover_color | default: '#555555' }};
    opacity: 1;
  }

  #shopify-section-{{ section.id }}
  .newsletter-label {
    color: {{ section.settings.text_color }};
    font-size: {{ section.settings.link_size }}px;
    text-transform: {{ section.settings.link_transform }};
    opacity: 0.7;
  }

  #shopify-section-{{ section.id }}
  .newsletter-input-wrapper {
    border-color: {{ section.settings.border_color | default: '#ccc' }};
  }

  #shopify-section-{{ section.id }}
  .newsletter-input-wrapper input {
    color: {{ section.settings.text_color }};
  }

  #shopify-section-{{ section.id }}
  .newsletter-input-wrapper input::placeholder {
    color: {{ section.settings.text_color }};
    opacity: 0.5;
  }

  #shopify-section-{{ section.id }}
  .newsletter-arrow {
    color: {{ section.settings.text_color }};
  }

  #shopify-section-{{ section.id }}
  .copyright {
    color: {{ section.settings.text_color }};
    opacity: 0.6;
  }
{%- endstyle -%}

<footer class="custom-footer">
  <!-- Top: Large Brand Heading -->
  <div class="footer-top">
    <h1 class="footer-brand-heading">
      {{ section.settings.brand_name | default: shop.name }}
    </h1>
  </div>

  <!-- Bottom: 3-Column Grid -->
  <div class="footer-bottom-grid">
    <!-- Column 1: Navigation Groups -->
    <div class="footer-col col-1">
      <!-- Group 1 -->
      <div class="nav-group">
        <ul>
          {% assign menu_1 = section.settings.menu_1 %}
          {% for link in linklists[menu_1].links %}
            <li>
              <a href="{{ link.url }}">{{ link.title }}</a>
            </li>
          {% else %}
            <li>
              <a href="#">About</a>
            </li>
            <li>
              <a href="#">Contact</a>
            </li>
            <li>
              <a href="#">Stockists</a>
            </li>
          {% endfor %}
        </ul>
      </div>

      <!-- Group 2 -->
      <div class="nav-group mt-large">
        <ul>
          {% assign menu_2 = section.settings.menu_2 %}
          {% for link in linklists[menu_2].links %}
            <li>
              <a href="{{ link.url }}">{{ link.title }}</a>
            </li>
          {% else %}
            <li>
              <a href="#">Shipping</a>
            </li>
            <li>
              <a href="#">Returns and Exchanges</a>
            </li>
            <li>
              <a href="#">Customer Service</a>
            </li>
          {% endfor %}
        </ul>
      </div>
    </div>

    <!-- Column 2: Legal & Social -->
    <div class="footer-col col-2">
      <!-- Group 3 (Legal) -->
      <div class="nav-group">
        <ul>
          {% assign menu_legal = section.settings.menu_legal %}
          {% for link in linklists[menu_legal].links %}
            <li>
              <a href="{{ link.url }}">{{ link.title }}</a>
            </li>
          {% else %}
            <li>
              <a href="#">Terms and Conditions</a>
            </li>
            <li>
              <a href="#">Privacy Policy</a>
            </li>
            <li>
              <a href="#">Accessibility</a>
            </li>
            <li>
              <a href="#">Cookie Policy</a>
            </li>
          {% endfor %}
        </ul>
      </div>

      <!-- Social Media -->
      <div class="nav-group mt-large">
        <ul class="social-links">
          {% if section.settings.instagram_url != blank %}
            <li>
              <a href="{{ section.settings.instagram_url }}">Instagram</a>
            </li>
          {% endif %}

          {% if section.settings.facebook_url != blank %}
            <li>
              <a href="{{ section.settings.facebook_url }}">Facebook</a>
            </li>
          {% endif %}

          {% if section.settings.linkedin_url != blank %}
            <li>
              <a href="{{ section.settings.linkedin_url }}">LinkedIn</a>
            </li>
          {% endif %}

          {% if section.settings.twitter_url != blank %}
            <li>
              <a href="{{ section.settings.twitter_url }}">Twitter</a>
            </li>
          {% endif %}

          {% if section.settings.instagram_url == blank and section.settings.facebook_url == blank %}
            <li>
              <a href="#">Instagram</a>
            </li>
            <li>
              <a href="#">Facebook</a>
            </li>
          {% endif %}
        </ul>
      </div>
    </div>

    <!-- Column 3: Newsletter -->
    <div class="footer-col col-3">
      <div class="newsletter-wrapper">
        <span class="newsletter-label">{{ section.settings.newsletter_title | default: 'Newsletter' }}</span>
        {% form 'customer'
          , class: 'custom-newsletter-form' %}
          <div class="newsletter-input-wrapper">
            <input
              type="email"
              name="contact[email]"
              placeholder="{{ section.settings.newsletter_placeholder | default: 'Email Address' }}"
              required>
            <button type="submit" class="newsletter-arrow">â†’</button>
          </div>
        {% endform %}
      </div>

      <div class="footer-meta">
        <div class="copyright">
          &copy; {{ 'now' | date: '%Y' }}
          {{ section.settings.brand_name | default: shop.name }}
        </div>
        {% if section.settings.brand_icon != blank %}
          <div class="brand-icon">
            <img
              src="{{ section.settings.brand_icon | image_url: width: 60 }}"
              alt="Brand Icon"
              width="60"
              height="60"
              loading="lazy">
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</footer>

{% schema %}
  {
    "name": "Custom Footer",
    "settings": [
      {
        "type": "header",
        "content": "Layout & Spacing"
      },
      {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 200,
        "step": 4,
        "unit": "px",
        "label": "Padding Top",
        "default": 80
      },
      {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 200,
        "step": 4,
        "unit": "px",
        "label": "Padding Bottom",
        "default": 80
      },
      {
        "type": "header",
        "content": "Colors"
      }, {
        "type": "color",
        "id": "bg_color",
        "label": "Background Color",
        "default": "#f6f5f2"
      }, {
        "type": "color",
        "id": "text_color",
        "label": "Text Main Color",
        "default": "#000000"
      }, {
        "type": "color",
        "id": "border_color",
        "label": "Border/Line Color",
        "default": "#e5e5e5"
      }, {
        "type": "color",
        "id": "brand_color",
        "label": "Brand Heading Color",
        "default": "#000000"
      }, {
        "type": "color",
        "id": "link_color",
        "label": "Link Color",
        "default": "#000000"
      }, {
        "type": "color",
        "id": "link_hover_color",
        "label": "Link Hover Color",
        "default": "#555555"
      }, {
        "type": "header",
        "content": "Brand Identity"
      }, {
        "type": "text",
        "id": "brand_name",
        "label": "Brand Headline",
        "default": "MAGDA BUTRYM"
      }, {
        "type": "range",
        "id": "brand_size_desktop",
        "min": 40,
        "max": 200,
        "step": 5,
        "unit": "px",
        "label": "Headline Size (Desktop)",
        "default": 120
      }, {
        "type": "range",
        "id": "brand_size_mobile",
        "min": 20,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Headline Size (Mobile)",
        "default": 40
      }, {
        "type": "image_picker",
        "id": "brand_icon",
        "label": "Brand Icon (Bottom Right)"
      }, {
        "type": "header",
        "content": "Navigation Menus"
      }, {
        "type": "link_list",
        "id": "menu_1",
        "label": "Menu 1 (Top Left)"
      }, {
        "type": "link_list",
        "id": "menu_2",
        "label": "Menu 2 (Bottom Left)"
      }, {
        "type": "link_list",
        "id": "menu_legal",
        "label": "Legal Menu (Top Middle)"
      }, {
        "type": "range",
        "id": "link_size",
        "min": 10,
        "max": 24,
        "step": 1,
        "unit": "px",
        "label": "Link Font Size",
        "default": 12
      }, {
        "type": "select",
        "id": "link_transform",
        "label": "Link Text Style",
        "options": [
          {
            "value": "uppercase",
            "label": "Uppercase"
          }, {
            "value": "capitalize",
            "label": "Capitalize"
          }, {
            "value": "none",
            "label": "Normal"
          }
        ],
        "default": "uppercase"
      }, {
        "type": "header",
        "content": "Social Links"
      }, {
        "type": "url",
        "id": "instagram_url",
        "label": "Instagram URL"
      }, {
        "type": "url",
        "id": "facebook_url",
        "label": "Facebook URL"
      }, {
        "type": "url",
        "id": "linkedin_url",
        "label": "LinkedIn URL"
      }, {
        "type": "url",
        "id": "twitter_url",
        "label": "Twitter URL"
      }, {
        "type": "header",
        "content": "Newsletter"
      }, {
        "type": "text",
        "id": "newsletter_title",
        "label": "Newsletter Label",
        "default": "Newsletter"
      }, {
        "type": "text",
        "id": "newsletter_placeholder",
        "label": "Placeholder Text",
        "default": "Email Address"
      }
    ],
    "presets": [
      {
        "name": "Custom Footer"
      }
    ]
  }
{% endschema %}