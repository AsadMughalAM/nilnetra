{% schema %}
  {
    "name": "Size Guide",
    "settings": [
      {
        "type": "text",
        "id": "page_heading",
        "label": "Page Heading",
        "default": "SIZE GUIDE"
      },
      {
        "type": "richtext",
        "id": "intro_text",
        "label": "Intro Text",
        "default": "<p><strong>BODY MEASUREMENT CHART</strong> (all measurements are mentioned in inches)</p>"
      },
      {
        "type": "richtext",
        "id": "outro_text",
        "label": "Additional Notes",
        "default": "<p>NOTE: The chart mentions body measurements and not garment dimensions.<br>Our garment fits are categorised as Fitted and Loose Fitted.<br>For Loose fit garments we add 4 to 6 inches ease to the body measurements.<br>Depending on the style of the garments the measurements might vary.</p><p><strong>BOTTOMS, PANTS AND SKIRTS</strong><br>All bottoms, pants and skirts are mostly high waisted and true to size, hence should be ordered as per your waist measurement.</p><p>Can't find your size? Email us.</p>"
      },
      {
        "type": "color",
        "id": "bg_color",
        "label": "Background Color",
        "default": "#FFFFFF"
      }, {
        "type": "color",
        "id": "text_color",
        "label": "Text Color",
        "default": "#000000"
      }, {
        "type": "color",
        "id": "border_color",
        "label": "Table Border Color",
        "default": "#E5E5E5"
      }
    ],
    "blocks": [
      {
        "type": "table_column",
        "name": "Column Header",
        "limit": 8,
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "Column Heading",
            "default": "Size"
          }
        ]
      }, {
        "type": "table_row",
        "name": "Data Row",
        "settings": [
          {
            "type": "text",
            "id": "col_1",
            "label": "Column 1 Data",
            "info": "Corresponds to the 1st Column Header"
          },
          {
            "type": "text",
            "id": "col_2",
            "label": "Column 2 Data",
            "info": "Corresponds to the 2nd Column Header"
          },
          {
            "type": "text",
            "id": "col_3",
            "label": "Column 3 Data",
            "info": "Corresponds to the 3rd Column Header"
          },
          {
            "type": "text",
            "id": "col_4",
            "label": "Column 4 Data",
            "info": "Corresponds to the 4th Column Header"
          }, {
            "type": "text",
            "id": "col_5",
            "label": "Column 5 Data",
            "info": "Corresponds to the 5th Column Header"
          }, {
            "type": "text",
            "id": "col_6",
            "label": "Column 6 Data",
            "info": "Corresponds to the 6th Column Header"
          }, {
            "type": "text",
            "id": "col_7",
            "label": "Column 7 Data",
            "info": "Corresponds to the 7th Column Header"
          }, {
            "type": "text",
            "id": "col_8",
            "label": "Column 8 Data",
            "info": "Corresponds to the 8th Column Header"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Size Guide Page"
      }
    ]
  }
{% endschema %}

<div class="size-guide-page" style="background-color: {{ section.settings.bg_color }}; color: {{ section.settings.text_color }};">
  <div class="page-container">
    <h1 class="main-heading">{{ section.settings.page_heading }}</h1>

    <div class="intro-text text-content">
      {{ section.settings.intro_text }}
    </div>

    <div class="table-container">
      <table class="size-table">
        <thead>
          <tr>
            {% assign column_count = 0 %}
            {% for block in section.blocks %}
              {% if block.type == 'table_column' %}
                {% assign column_count = column_count | plus: 1 %}
                <th>{{ block.settings.heading }}</th>
              {% endif %}
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          {% for block in section.blocks %}
            {% if block.type == 'table_row' %}
              <tr {{ block.shopify_attributes }}>
                {% if column_count >= 1 %}
                  <td>{{ block.settings.col_1 }}</td>
                {% endif %}
                {% if column_count >= 2 %}
                  <td>{{ block.settings.col_2 }}</td>
                {% endif %}
                {% if column_count >= 3 %}
                  <td>{{ block.settings.col_3 }}</td>
                {% endif %}
                {% if column_count >= 4 %}
                  <td>{{ block.settings.col_4 }}</td>
                {% endif %}
                {% if column_count >= 5 %}
                  <td>{{ block.settings.col_5 }}</td>
                {% endif %}
                {% if column_count >= 6 %}
                  <td>{{ block.settings.col_6 }}</td>
                {% endif %}
                {% if column_count >= 7 %}
                  <td>{{ block.settings.col_7 }}</td>
                {% endif %}
                {% if column_count >= 8 %}
                  <td>{{ block.settings.col_8 }}</td>
                {% endif %}
              </tr>
            {% endif %}
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="outro-text text-content">
      {{ section.settings.outro_text }}
    </div>
  </div>
</div>

<style>
  .size-guide-page {
    padding: 60px 20px;
    font-family: inherit;
  }

  .page-container {
    max-width: 900px;
    margin: 0 auto;
  }

  .main-heading {
    font-size: 1.2rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 40px;
    text-align: center;
    color: inherit;
  }

  .text-content {
    font-size: 0.95rem;
    line-height: 1.6;
    margin-bottom: 30px;
    opacity: 0.9;
    color: inherit;
  }

  .intro-text {
    text-align: center;
  }

  .outro-text {
    margin-top: 40px;
    font-size: 0.9rem;
  }

  /* Table Styles */
  .table-container {
    width: 100%;
    overflow-x: auto;
    margin-bottom: 40px;
    -webkit-overflow-scrolling: touch;
  }

  .size-table {
    width: 100%;
    border-collapse: collapse;
    min-width: 600px;
    /* Ensure table doesn't squash too much on small screens */
    font-size: 0.9rem;
  }

  .size-table th,
  .size-table td {
    padding: 15px;
    text-align: center;
    border: 1px solid{{ section.settings.border_color }};
  }

  .size-table th {
    font-weight: 600;
    text-transform: uppercase;
    background-color: rgba(0, 0, 0, 0.02);
    letter-spacing: 0.5px;
  }

  .col-highlight {
    font-weight: 600;
  }

  .text-content a {
    text-decoration: underline;
    color: inherit;
  }
</style>