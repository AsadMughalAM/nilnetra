/* Edge-to-Edge Grid Layout - Dynamic Admin Control */

/* ---------------------------------------------------------
   Container & General
--------------------------------------------------------- */
/* Ensure the container is full width but has balanced padding matching the gaps */
.product-grid-container .collection.page-width,
.template-search__results.collection.page-width {
  max-width: 100% !important;
  /* Default desktop padding matches the desktop gap */
  padding-left: 40px !important; 
  padding-right: 40px !important;
}

/* Base Grid Settings */
.product-grid-container .grid,
.template-search__results .grid {
  width: 100%;
  margin-left: 0; 
  display: flex;
  flex-wrap: wrap;
}

/* ---------------------------------------------------------
   Desktop Layout (>= 990px)
   Respects 'columns_desktop' setting
   Gap: 40px
--------------------------------------------------------- */
@media screen and (min-width: 990px) {
  .product-grid-container .grid,
  .template-search__results .grid {
    column-gap: 40px !important;
    row-gap: 50px !important;
  }

  /* 1 Column */
  .grid--1-col-desktop .grid__item {
    width: 100% !important;
    max-width: 100% !important;
  }

  /* 2 Columns */
  .grid--2-col-desktop .grid__item {
    width: calc(50% - 20px) !important; /* 40px * 1 / 2 */
    max-width: calc(50% - 20px) !important;
  }

  /* 3 Columns */
  .grid--3-col-desktop .grid__item {
    width: calc(33.33% - 26.67px) !important; /* 40px * 2 / 3 */
    max-width: calc(33.33% - 26.67px) !important;
  }

  /* 4 Columns */
  .grid--4-col-desktop .grid__item {
    width: calc(25% - 30px) !important; /* 40px * 3 / 4 */
    max-width: calc(25% - 30px) !important;
  }

  /* 5 Columns */
  .grid--5-col-desktop .grid__item {
    width: calc(20% - 32px) !important; /* 40px * 4 / 5 */
    max-width: calc(20% - 32px) !important;
  }

  /* 6 Columns */
  .grid--6-col-desktop .grid__item {
    width: calc(16.66% - 33.33px) !important; /* 40px * 5 / 6 */
    max-width: calc(16.66% - 33.33px) !important;
  }
}

/* ---------------------------------------------------------
   Mobile / Tablet Layout (< 990px)
   Respects 'columns_mobile' setting (applied via grid--X-col-tablet-down)
   Gap: 10px
--------------------------------------------------------- */
@media screen and (max-width: 989px) {
  /* Reduce container padding on mobile for "equal spacing" look */
  .product-grid-container .collection.page-width,
  .template-search__results.collection.page-width {
    padding-left: 10px !important;
    padding-right: 10px !important;
  }

  /* Reduce grid gaps */
  .product-grid-container .grid,
  .template-search__results .grid {
    column-gap: 10px !important;
    row-gap: 20px !important;
  }
  
  /* 1 Column Mobile */
  .grid--1-col-tablet-down .grid__item {
    width: 100% !important;
    max-width: 100% !important;
  }

  /* 2 Column Mobile */
  .grid--2-col-tablet-down .grid__item {
    width: calc(50% - 5px) !important; /* 10px gap / 2 */
    max-width: calc(50% - 5px) !important;
  }
  
  /* Note: If the user explicitly wants 3 columns on tablet, they would need a custom setting. 
     Currently, this strictly follows the 'columns_mobile' setting which supports 1 or 2. */
  
  /* Clean Card Content for Mobile and Tablet */
  .card__information {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  /* Stack Title and Price for better readability on small screens */
  .product-card-title-price-row {
     flex-direction: column !important;
     gap: 4px !important;
     align-items: flex-start !important;
  }

  .product-card-price-wrapper {
    text-align: left !important;
    padding-top: 0 !important;
  }
  
  .card__heading {
    font-size: 1.3rem !important; /* Slightly smaller font for mobile */
  }
}

/* ---------------------------------------------------------
   Tablet Specific Tweaks (Optional Polishing)
   (750px to 989px)
   If we want to slightly increase gap on larger tablets but keep column count from setting
--------------------------------------------------------- */
@media screen and (min-width: 750px) and (max-width: 989px) {
   .product-grid-container .collection.page-width,
   .template-search__results.collection.page-width {
     padding-left: 20px !important;
     padding-right: 20px !important;
   }
   
   .product-grid-container .grid,
   .template-search__results .grid {
     column-gap: 20px !important;
     row-gap: 30px !important;
   }
   
   /* Recalculate 2-col width for the larger 20px gap */
   .grid--2-col-tablet-down .grid__item {
     width: calc(50% - 10px) !important; 
     max-width: calc(50% - 10px) !important;
   }
}
